<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<h1>demo33</h1>
<script>
    //    数组转为对象：
    console.log("数组转为对象");
    var menuArr = [
        [1, "Area1", -1],
        [2, "Area2", -1],
        [3, "Area1-1", 1],
        [4, "Area1-2", 1],
        [5, "Area2-1", 2],
        [6, "Area2-2", 2],
        [7, "Area1-2-3", 4],
        [8, "Area2-2-1", 6]
    ];
    // 如上有一个用来存储多级菜单数据的数组，编写一个函数，将其转为如下的对象
    // var menuObject = {
    //     "1": {
    //         name: "Area1",
    //         subMenu: {
    //             "3": {
    //                 name: "Area1-1"
    //             },
    //             "4": {
    //                 name: "Area1-2",
    //                 subMenu: {
    //                     "7": {
    //                         name: "Area1-2-3"
    //                     }
    //                 }
    //             }
    //         }
    //     }
    //
    // ……
    //
    // }
    //获取数组的第一组元素的第一个元素作为属性名
    //    map()方法，它接收两个参数：1.运行在每一项上的函数 2.运行该函数的作用域对象——影响this的值。（可选）
    //    function(item,index,array)接收3个参数，item 数组项的值，index该项的索引，array数组对象本身

//    for(var key in menuArr){
//        menuObject[key]=menuArr[key];
//    }
    var menuObject = {};
    menuArr.forEach((current,index) => {
        if(current[2] == -1){
        menuObject[current[0]]={
            "name":current[1],
            "subMenu":{}
        }
    }
    if(current[2] == 1){
        menuObject["1"]["subMenu"][current[0]]={
            "name":current[1],
            "subMenu":{}
        }
    }
    if(current[2] == 2){
        menuObject["2"]["subMenu"][current[0]] = {
            "name" : current[1],
            "subMenu": {}
        }
    }
    if(current[2] == 4){
        menuObject["1"]["subMenu"]["4"]["subMenu"][current[0]] = {
            "name" : current[1],
            "subMenu": {}
        }
    }
    if(current[2] == 6){
        menuObject["2"]["subMenu"]["6"]["subMenu"][current[0]] = {
            "name" : current[1],
            "subMenu": {}
        }
    }
    })
    console.log(menuObject);
</script>
</body>
</html>